<html>
<head>
	<meta charset='utf-8'>
	<script src='js/promise.js'></script>
	<script src='js/require.js'></script>
	<script>
	window.onload = function(){
		Data = {};
		DRAGON_NAME_LIST=['akonitam','gyari-_ma_eibis','ifeion','rindou','rudobegia','tenran']
		offline_debug = true;
		require([
			'js/data.js',
			'js/img.js',
			'js/scene/login.js', 
			'js/scene/lobby_choose.js', 'js/scene/lobby_make.js', 
			'js/scene/game_battle.js', 
			'js/scene/game_chara_open.js', 
			'js/scene/game_chooseNumber_audience.js', 
			'js/scene/game_chooseNumber_performer.js', 
			'js/scene/game_damage.js', 
			'js/scene/game_encountDragon.js', 
			'js/scene/game_result.js', 
			'js/scene/game_waituser_audience.js', 
			'js/scene/game_waituser_performer.js', 
			'js/scene/game_whodoneit_audience.js', 
			'js/scene/game_whodoneit_performer.js', 
			], function(){
			var imgs = ['img/oukan.png','img/背景/lightning.jpg']
			for (var i = 0; i <= 6; i++){
				imgs.push('img/手/' + i + '.png')
			} 

			for (var i = 0; i < 6; i++){
				imgs.push('img/ドラゴン画像/d_'+DRAGON_NAME_LIST[i]+'.png')
			}

			img.load(imgs).then(function(){
				main();
				Scene.change('login');				
			})
		})
	}
	function main(){
		var ctx = document.getElementById('c').getContext('2d');
		Scene.draw(ctx);
		Scene.step();
		setTimeout(main, 100);
	}
	</script>
</head>
<body>
	<canvas id='c' width='640' height='480' style='position:absolute;left:0px;top:0px;'>
	<div id='debug'>debug</div>
</body>